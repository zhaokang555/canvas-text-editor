var T=Object.defineProperty;var L=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var S=(h,t,e)=>t in h?T(h,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):h[t]=e,C=(h,t)=>{for(var e in t||(t={}))Y.call(t,e)&&S(h,e,t[e]);if(L)for(var e of L(t))j.call(t,e)&&S(h,e,t[e]);return h};var i=(h,t,e)=>(S(h,typeof t!="symbol"?t+"":t,e),e);import{V as m,j as O,r as v,R as A,a as F}from"./vendor.4f28c16a.js";const W=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}};W();class B{constructor(t,e,n,s,o,c){i(this,"offsetY");i(this,"calcLayoutForChars",()=>{let t=this.left;this.chars.forEach(e=>{e.setPosition(t,this.top+this.offsetY),t+=e.width})});this.chars=t,this.width=e,this.height=n,this.ctx=s,this.left=o,this.top=c,this.offsetY=Math.max(...this.chars.map(l=>l.textMetrics.fontBoundingBoxAscent)),this.calcLayoutForChars()}}class Z{constructor(t,e,n,s,o){i(this,"softLines",[]);i(this,"width",0);i(this,"height",0);i(this,"calcLayoutForSoftLines",()=>{let t=[],e=0,n=0,s=this.top;if(this.chars.forEach(o=>{if(t.length===0)t.push(o),e+=o.width,n=Math.max(n,o.height);else if(e+o.width<=this.maxWidth)t.push(o),e+=o.width,n=Math.max(n,o.height);else{const c=new B(t,e,n,this.ctx,this.left,s);this.softLines.push(c),s+=n,t=[o],e=o.width,n=o.height}}),t.length>0){const o=new B(t,e,n,this.ctx,this.left,s);this.softLines.push(o)}});i(this,"calcLayout",()=>{this.width=Math.max(...this.softLines.map(t=>t.width)),this.height=this.softLines.reduce((t,e)=>t+e.height,0)});i(this,"render",()=>{this.chars.forEach(t=>t.render())});this.chars=t,this.ctx=e,this.left=n,this.top=s,this.maxWidth=o,this.calcLayoutForSoftLines(),this.calcLayout()}destructor(){this.chars.forEach(t=>t.destructor())}}var u;(function(h){h.defaultCursor="default",h.ewResize="ew-resize",h.nsResize="ns-resize",h.neswResize="nesw-resize",h.nwseResize="nwse-resize",h.move="move",h.text="text"})(u||(u={}));const w=class{constructor(t,e,n,s,o,c,l={}){i(this,"zIndex",0);i(this,"mouseX",-1);i(this,"mouseY",-1);i(this,"isMouseHovering",!1);i(this,"handleMouseMove",t=>{const e=this.ctx.canvas.getBoundingClientRect();this.mouseX=t.clientX-e.left,this.mouseY=t.clientY-e.top,this.isMouseHovering=this.mouseX>=this.left&&this.mouseY>=this.top&&this.mouseX<=this.left+this.width&&this.mouseY<=this.top+this.height});this.left=t,this.top=e,this.width=n,this.height=s,this.cursorType=o,this.ctx=c,Object.entries(l).forEach(([x,p])=>this[x]=p),c.canvas.addEventListener("mousemove",this.handleMouseMove)}destructor(){this.ctx.canvas.removeEventListener("mousemove",this.handleMouseMove)}render(){this.isMouseHovering&&this.zIndex>=w.topLayerZIndex&&(w.topLayerZIndex=this.zIndex,w.topLayerCursorType=this.cursorType)}};let a=w;i(a,"topLayerZIndex",-1/0),i(a,"topLayerCursorType",u.defaultCursor);const X=10;class r{constructor(t,e,n={}){i(this,"textMetrics");i(this,"top",0);i(this,"color","#000");i(this,"fontSize",50);i(this,"boundingBox");i(this,"setPosition",(t,e)=>{this.top=e;const n=e-this.textMetrics.fontBoundingBoxAscent;this.boundingBox.left=t,this.boundingBox.top=n});i(this,"render",()=>{this.boundingBox.render(),this.setStyle(),this.ctx.fillText(this.char,this.left,this.top)});this.char=t,this.ctx=e,Object.entries(n).forEach(([c,l])=>this[c]=l),this.setStyle(),this.textMetrics=e.measureText(t);const s=this.textMetrics.width,o=this.textMetrics.fontBoundingBoxDescent+this.textMetrics.fontBoundingBoxAscent;this.boundingBox=new a(-1/0,-1/0,s,o,u.text,this.ctx,{zIndex:X})}get left(){return this.boundingBox.left}get boundingBoxTop(){return this.boundingBox.top}get width(){return this.boundingBox.width}get height(){return this.boundingBox.height}destructor(){this.boundingBox.destructor()}setStyle(){this.ctx.fillStyle=this.color,this.ctx.font=`${this.fontSize}px sans-serif`}}const g=5,D=1e3;class d extends a{constructor(t,e,n,s,o={}){const c=t-g,l=e-g,x=2*g,p=2*g;super(c,l,x,p,n,s,C({zIndex:D},o));i(this,"borderColor","#999");i(this,"backgroundColor","#fff");i(this,"render",()=>{super.render(),this.ctx.beginPath(),this.ctx.setLineDash([]),this.ctx.arc(this.centerX,this.centerY,g,0,Math.PI*2),this.ctx.fillStyle=this.backgroundColor,this.ctx.fill(),this.ctx.strokeStyle=this.borderColor,this.ctx.stroke(),this.ctx.closePath()});this.centerX=t,this.centerY=e,this.cursorType=n}}const q="#999",N=1,y=10,V=100;class z extends a{constructor(t,e,n){const s=e.clone().subtract(t).rotate(Math.PI/2).normalize(),o=[t.clone().add(s.clone().multiplyScalar(y/2)),t.clone().add(s.clone().multiplyScalar(-y/2)),e.clone().add(s.clone().multiplyScalar(y/2)),e.clone().add(s.clone().multiplyScalar(-y/2))],c=Math.min(...o.map(f=>f.x)),l=Math.min(...o.map(f=>f.y)),x=Math.max(...o.map(f=>f.x)),p=Math.max(...o.map(f=>f.y)),k=x-c,R=p-l;super(c,l,k,R,u.move,n,{zIndex:V});this.from=t,this.to=e}render(){super.render(),this.ctx.beginPath(),this.ctx.strokeStyle=q,this.ctx.lineWidth=N,this.ctx.setLineDash([3]),this.ctx.moveTo(this.from.x,this.from.y),this.ctx.lineTo(this.to.x,this.to.y),this.ctx.stroke()}}class ${constructor(t){i(this,"left",-1/0);i(this,"top",-1/0);i(this,"height",50);this.ctx=t}render(){this.ctx.beginPath(),this.ctx.moveTo(this.left,this.top),this.ctx.lineTo(this.left,this.top+this.height),this.ctx.strokeStyle="#000",this.ctx.stroke()}}const{defaultCursor:H,ewResize:M,nsResize:E,neswResize:I,nwseResize:P}=u;class K{constructor(t,e={}){i(this,"canvas");i(this,"ctx");i(this,"left",0);i(this,"top",0);i(this,"width",400);i(this,"height",300);i(this,"backgroundColor","#fff");i(this,"paddingLeft",10);i(this,"paragraphs",[]);i(this,"sizeControlPoints",[]);i(this,"borders",[]);i(this,"blinkingCursor");i(this,"render",()=>{requestAnimationFrame(this.render),this.clearCanvas(),this.paragraphs.forEach(t=>t.render()),this.borders.forEach(t=>t.render()),this.sizeControlPoints.forEach(t=>t.render()),this.blinkingCursor.render(),this.canvas.style.cursor=a.topLayerCursorType});i(this,"clearCanvas",()=>{this.ctx.fillStyle=this.backgroundColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),a.topLayerZIndex=-1/0,a.topLayerCursorType=H});Object.entries(e).forEach(([n,s])=>this[n]=s),this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.initParagraphs(),this.initBorder(),this.initSizeControlPoints(),this.blinkingCursor=this.createBlinkingCursor(),requestAnimationFrame(this.render)}destructor(){this.paragraphs.forEach(t=>t.destructor()),this.borders.forEach(t=>t.destructor()),this.sizeControlPoints.forEach(t=>t.destructor())}initParagraphs(){this.paragraphs=[new Z([new r("W",this.ctx,{color:"red",fontSize:80}),new r("o",this.ctx,{color:"orange",fontSize:80}),new r("r",this.ctx,{color:"yellow",fontSize:80}),new r("k",this.ctx,{color:"green",fontSize:80}),new r("e",this.ctx,{color:"lightblue",fontSize:80}),new r("r",this.ctx,{color:"blue",fontSize:80}),new r("s",this.ctx,{color:"purple",fontSize:40}),new r(" ",this.ctx),new r("o",this.ctx,{color:"orange",fontSize:40}),new r("f",this.ctx,{color:"yellow",fontSize:40}),new r(" ",this.ctx),new r("t",this.ctx,{color:"lightblue",fontSize:40}),new r("h",this.ctx,{color:"blue",fontSize:40}),new r("e",this.ctx,{color:"purple",fontSize:40}),new r(" ",this.ctx),new r("w",this.ctx,{color:"orange",fontSize:80}),new r("o",this.ctx,{color:"yellow",fontSize:80}),new r("r",this.ctx,{color:"green",fontSize:80}),new r("l",this.ctx,{color:"lightblue",fontSize:80}),new r("d",this.ctx,{color:"blue",fontSize:80}),new r(",",this.ctx,{color:"purple",fontSize:80}),new r(" ",this.ctx),new r("u",this.ctx,{color:"orange",fontSize:80}),new r("n",this.ctx,{color:"yellow",fontSize:80}),new r("i",this.ctx,{color:"green",fontSize:80}),new r("t",this.ctx,{color:"lightblue",fontSize:80}),new r("e",this.ctx,{color:"blue",fontSize:80}),new r("!",this.ctx,{color:"purple",fontSize:80})],this.ctx,this.left+this.paddingLeft,this.top,this.width-this.paddingLeft)]}initBorder(){const t=new m(this.left,this.top),e=new m(this.left+this.width,this.top),n=new m(this.left,this.top+this.height),s=new m(this.left+this.width,this.top+this.height);this.borders=[new z(t,e,this.ctx),new z(e,s,this.ctx),new z(s,n,this.ctx),new z(n,t,this.ctx)]}initSizeControlPoints(){this.sizeControlPoints=[new d(this.left,this.top,P,this.ctx),new d(this.left,this.top+this.height/2,M,this.ctx),new d(this.left,this.top+this.height,I,this.ctx),new d(this.left+this.width/2,this.top,E,this.ctx),new d(this.left+this.width/2,this.top+this.height,E,this.ctx),new d(this.left+this.width,this.top,I,this.ctx),new d(this.left+this.width,this.top+this.height/2,M,this.ctx),new d(this.left+this.width,this.top+this.height,P,this.ctx)]}createBlinkingCursor(){const t=new $(this.ctx);if(this.paragraphs.length>0){const e=this.paragraphs[this.paragraphs.length-1],n=e.chars[e.chars.length-1];t.left=n.left+n.width,t.top=n.boundingBoxTop,t.height=n.fontSize}else t.left=this.left+this.paddingLeft,t.top=this.top;return t}}const b=O.exports.jsx;function G(){const h=v.exports.useRef(null);return v.exports.useEffect(()=>{h.current&&new K(h.current,{left:100,top:100})},[]),b("div",{children:b("canvas",{ref:h,width:"800",height:"600"})})}A.render(b(F.StrictMode,{children:b(G,{})}),document.getElementById("root"));
